<!DOCTYPE html>
<html lang="en">
  <head>
    <meta charset="UTF-8" />
    <title>Todos</title>
    <link rel="stylesheet" href="../todo.css" />
  </head>
  <body>
    <main>
      <h1>Todo List</h1>

      <div class="holder">
        <button id="plus" autofocus onclick="todoController.addTodo();">
          +
        </button>
        <button id="fortune" onclick="todoController.addFortuneTodo();">
          fortune!
        </button>

        <div class="table" id="todoContainer"></div>

        <div>Tasks: <span id="numberOfTasks">0</span></div>
        <div>Open: <span id="openTasks">0</span></div>
      </div>
    </main>

    <script src="../observable/observable.js"></script>
    <script src="../dataflow/dataflow.js"></script>
    <script src="fortuneService.js"></script>
    <script type="module">
      import {
        TodoController,
        TodoItemsView,
        TodoTotalView,
        TodoOpenView,
      } from "./todo.js";

      const todoController = TodoController();

      TodoItemsView(todoController, todoContainer);
      TodoTotalView(todoController, numberOfTasks);
      TodoOpenView(todoController, openTasks);

      todoController.addTodo();
    </script>
  </body>
</html>
